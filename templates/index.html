<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
<title>BLOCK-spamSMSdetection</title>
<script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<style>
  html {
    scroll-behavior: smooth;
  }
  * {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
  }
  .header {
    background-color: black;
    width: 100%;
  }
  .header-container {
    width: 95%;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
  }
  nav.nav_div {
    display: flex;
    flex-direction: row;
    gap: 30px;
  }
  nav.nav_div a {
    text-decoration: none;
    font: normal normal 600 18px/23px 'Times New Roman', serif;
    color: rgb(180, 177, 177);
  }
  .login_div {
    display: flex;
    justify-content: flex-end;
    text-align: center;
    flex-wrap: wrap;
  }
  .banner {
    width: 100%;
    min-height: 400px;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    background-image: url('{{ url_for('static', filename='images/banner.png') }}');
    background-size: cover;
    background-position: center;
    padding: 20px;
    color: white;
  }
  .left {
    flex: 1 1 40%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .right {
    flex: 1 1 60%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 20px;
    text-align: left;
  }
  @media (max-width: 768px) {
    .banner {
      flex-direction: column;
    }
    .left, .right {
      flex: 1 1 100%;
      text-align: center;
    }
  }
  .left img {
    width: 80%;
    max-width: 300px;
    height: auto;
  }
  .heading h1 {
    font-size: 32px;
    font-weight: bold;
    color: rgb(180, 174, 174);
  }
  .sub-heading p {
    font-size: 18px;
    margin-top: 10px;
    color: rgba(246, 129, 19, 0.66);
  }
  .main {
    display: flex;
    flex-wrap: wrap;
    background-color: rgba(184, 177, 177, 0.319);
    padding: 40px;
  }
  .about, .checker {
    flex: 1 1 100%;
    padding: 10px;
  }
  #msg, #result {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 6px;
    resize: vertical;
  }
  #result {
    margin-top: 10px;
    display: none;
    background: #f5f5f5;
  }
  #verifyBtn {
    margin-top: 12px;
    padding: 10px;
    font-size: 1rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: #054b95;
    color: #fff;
  }
  #verifyBtn:hover {
    background: #03386e;
  }
  .need {
    text-align: center;
    background-color: #cccccc40;
    padding: 30px 20px;
  }
  .reasons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 30px 0;
  }
  .card {
    width: 90%;
    max-width: 320px;
  }
  .footer {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    background-color: rgb(40, 36, 36);
    padding: 20px 40px;
  }
  .footer1 {
    flex: 1 1 auto;
    max-width: 600px;
    color: rgb(180, 174, 174);
  }
  .contact {
    flex: 0 0 auto;
    margin-left: auto;
    text-align: right;
    color: rgb(180, 174, 174);
    padding-left: 40px;
  }

  .description img {
    height: 90px;
    width: 110px;
  }
  .description-para {
    font-size: 15px;
    padding-top: 10px;
  }
  .footer2 {
    background-color: black;
    padding: 20px;
  }
  .footer2-para {
    color: rgb(180, 174, 174);
    text-align: center;
    font-size: 13px;
  }
  .c4 {
    flex: 0 0 auto;
    margin-left: auto;
    text-align: right;
    display: flex;
    padding-left: 40px;
    gap: 10px;
  }
  .c4 a img {
    display: inline-block;
  }
</style>
</head>
<body>
<header class="header" id="home">
  <div class="header-container">
    <div class="logo_div">
      <img src="{{ url_for('static', filename='images/LOGO.png') }}" alt="Logo" height="80px" width="100px">
    </div>
    <nav class="nav_div">
      <a href="#home">Home</a>
      <a href="#guide">User Guide</a>
      <a href="#contact">Contact</a>
    </nav>
    <nav class="login_div" id="signin-div">
      <div id="g_id_onload"
        data-client_id="123086944314-s3rhaqdv0d8aoufp9fncfnr5b4c4rplp.apps.googleusercontent.com"
        data-context="signin"
        data-ux_mode="popup"
        data-callback="handleCredentialResponse"
        data-auto_prompt="false"></div>
      <div class="g_id_signin"
        data-type="standard"
        data-shape="rectangular"
        data-theme="outline"
        data-text="signin"
        data-size="medium"
        data-logo_alignment="left"></div>
    </nav>
  </div>
</header>

<div class="banner">
  <div class="left">
    <img src="{{ url_for('static', filename='images/banner-img.jpg') }}">
  </div>
  <div class="right">
    <div class="heading"><h1>SMISHING IS REAL<br>MACHINE LEARNING SOLUTION IS HERE</h1></div>
    <div class="sub-heading"><p>One click can cause you more than you know<br>If you suspect, enter your message below and find out instantly</p></div>
  </div>
</div>

<div class="main" id="guide">
  <div class="about">
    <h2 class="get-started">Get Started..</h2>
    <h1 class="identify">Identify spam SMS messages using ML</h1>
    <p class="just">Just input your message into the textbox and click Verify button. Let our ML detect if it's spam or not in just seconds. If it's spam, block the number and report it instantly.</p>
  </div>
  <div class="checker">
    <textarea id="msg" placeholder="Paste your SMS message hereâ€¦" rows="6"></textarea>
    <button type="button" id="verifyBtn">Verify</button>
    <textarea id="result" readonly></textarea>
  </div>
</div>

<div class="need">
  <h2 class="needfor">Need for spam SMS detection?</h2>
  <p>With the rise in mobile communication, spam SMS has become a major threat.<br>Detecting and blocking these messages is essential to protect users from various<br>attacks including identity theft, financial loss, and unauthorized account access.</p>
  <div class="reasons">
    <div class="card">
      <img src="{{ url_for('static', filename='images/virus.webp') }}" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Prevents Malware</h5>
        <p class="card-text">Many spam messages contain malicious attachments or links that can install harmful software on devices.</p>
      </div>
    </div>
    <div class="card">
      <img src="{{ url_for('static', filename='images/db.jpg') }}" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Prevents Data Breach</h5>
        <p class="card-text">Sensitive information of the user is stolen for identity theft, financial gain or to damage reputation.</p>
      </div>
    </div>
    <div class="card">
      <img src="{{ url_for('static', filename='images/compromised-account.jpg') }}" class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Account Compromise</h5>
        <p class="card-text">Stops cybercriminals from tricking users into revealing passwords or OTPs to safeguard user accounts from unauthorized access.</p>
      </div>
    </div>
  </div>
</div>

<div class="footer" id="contact">
  <div class="footer1">
    <div class="description">
      <a href="#home"><img src="{{ url_for('static', filename='images/LOGO.png') }}"></a>
      <div class="description-para">
        <p>BLOCK provides a free online solution to identify spam SMS messages,<br>keeping your phone secure from potentially harmful content.<br>Protect yourself from fraudulent texts and stay in control of your inbox<br>with BLOCK's simple and effective solution.</p>
      </div>
    </div>
  </div>
  <div class="contact">
    <p><strong>Contact Us</strong></p>
    <p>BLOCK, India<br>+91 63677 2876<br>hello@block.com</p>
    <p>Social Media</p>
    <nav class="c4">
      <a href="https://www.x.com"><img src="{{ url_for('static', filename='images/x.jpg') }}" height="22px" width="22px"></a>
      <a href="https://www.instagram.com"><img src="{{ url_for('static', filename='images/ig.webp') }}" height="19px" width="19px"></a>
      <a href="https://www.linkedin.com" target="_blank"><img src="{{ url_for('static', filename='images/lin.png') }}" height="20px" width="20px"></a>
    </nav>
  </div>
</div>
<div class="footer2">
  <div class="footer2-para">
    <p>&copy; 2025 by NIVEDHA / TERMS AND CONDITIONS / PRIVACY POLICY</p>
  </div>
</div>
<script>
  function handleCredentialResponse(response) {
    const id_token = response.credential;
    const base64Url = id_token.split('.')[1];
    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
    const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
    const user = JSON.parse(jsonPayload);
    console.log("User Info:", user);
    alert(`Hello, ${user.name}`);
  }

  document.getElementById("verifyBtn").addEventListener("click", function () {
    const message = document.getElementById("msg").value;
    fetch("/predict", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ message: message })
    })
    .then(response => response.json())
    .then(data => {
      const resultBox = document.getElementById("result");
      resultBox.style.display = "block";
      resultBox.value = data.prediction;
    })
    .catch(error => {
      console.error("Error:", error);
    });
  });
</script>
</body>
</html>
